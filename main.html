<!DOCTYPE html>
<html>

<head>
    <title>GAsp_mainPage</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="./css/main.css">
    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
        crossorigin="anonymous">
    <script type="text/javascript" src="./js/lib/ganja.js"></script>
</head>

<body>
	<div id="goBackStart"></div>
    <div id="header">
        <h4 id="title"> GAsp</h4>
        <h1> a web GA manipulator</h1>
    </div>

    <div id="signIn" class="sign ">
        <h4> Sign in </h4>
        <form id="form" method="post" action="traitemebt.php">
            <p>
                <label> Username </label> : <input type="text" name="username" />
            </p>
            <p>
                <label> Password </label> : <input type="text" name="password" />
            </p>
        </form>
        <div class="validate">
            <i id = "check " class="fas fa-check-square"></i>
        </div>
    </div>
    <div id ="projectList" >
        <h4> Hello Username, here are your projects </h4>
        <div id = "project"> <i class="far fa-trash-alt"></i> <div id ="rename">rename</div> <p> project 1</p> </div>
        <div id = "project"> <i class="far fa-trash-alt"></i> <div id ="rename">rename</div> <p> project 1</p> </div>
        <div id = "project"> <i class="far fa-trash-alt"></i> <div id ="rename">rename</div> <p> project 1</p> </div>
        <div id = "project"> <i class="far fa-trash-alt"></i> <div id ="rename">rename</div> <p> project 1</p> </div>
        <div id = "project"> <i class="far fa-trash-alt"></i> <div id ="rename">rename</div> <p> project 1</p> </div>

    </div>
    <div id="chooseGA" class="chooseGA">
        <div class="chooseInfo">
            <div class="choose">
                <h4> Choose the geometric algebra </h4>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
                <div id="validateGA" class="validate">
                    <i class="fas fa-check-square"></i>
                </div>
            </div>

            <div class="infoGA">
                <h4> GA informations </h4>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
                <p> lorem ipsum </p>
            </div>
        </div>
        <div class="createGA">
            <div id="or">
                <h3> or </h3>
            </div>
            <div id="createGA" class="create">

                <h4> Create a geometric algebra</h4>
            </div>
        </div>
    </div>

    <div id="createAlgebra" class="createAlgebra">
        <h3>Create a geometric algebra</h3>
        <form id="form2" method="post" action="traitemebt.php">
            <p>
                <label> Name </label> : <input type="text" name="nameGA" />
            </p>
            <p>
                <label> Dimension </label> : <input type="text" name="dimensionGA" />
            </p>
            <p>
                <label> Basis </label> : <input type="text" name="dimensionGA" />

            </p>
            <p>
                <label> Metric </label> : <input type="text" name="dimensionGA" />
            </p>
            <p>
                <label> Definition of a new vector </label> : <input type="text" name="dimensionGA" />
            </p>
            <p>
                <label> definition from an 3D Euclidean point </label> : <input type="text" name="dimensionGA" />
            </p>
        </form>
    </div>
    
    <div id="icons">
        <a href ="index.html" >
        <div id="iconExample" class="circleBase type1 indexPage" target="_blank">
            <img  src="media/img/examples_icon.png" alt="new file" >
            <h3>Discover with examples</h3>
        </div>
    </a>

        <div id="iconCreate" class="circleBase">
            <img  src="media/img/new_file_icon.png" alt="new file">
            <h3>Create a new project</h3>
        </div>

        <div id="iconOpen" class="circleBase type1">
            <img  src="media/img/open_file_icon.png" alt="new file">
            <h3>Open a project</h3>
        </div>

    </div>

    <script>
		function myFunction() {
			var elsClass = {};
			[".circleBase", ".type1"].forEach(x => elsClass[x.replace(/[.]/g, '')] = document.querySelectorAll(x));
            for (var i = 0; i < elsClass.circleBase.length; i++) {
                elsClass.circleBase[i].onclick = (function (i) {
                    return function () {
                        // indice i pour la div cliquée et (i+1)%3 et (i+2)%3 pour les deux classes restantes 
                        if (elsClass.circleBase[i].classList.contains("indexPage"))
                        {
                            changeActiveThis(elsClass.circleBase[i]);
                            console.log("wesh ça va ?");
                        }
                        else if (elsClass.circleBase[i].classList.contains("active")==false){
							changeActive(elsClass.circleBase[i]);
							document.getElementById("icons").classList.toggle("activeDiv");
							changeUnactive(elsClass.circleBase[(i + 1) % 3]);
							changeUnactive(elsClass.circleBase[(i + 2) % 3]);
                        }
                    }
                })(i);
            }
        }
		
		var els={};
		["#iconOpen", "#iconCreate", "#signIn", "#chooseGA", "#goBackStart"].forEach(x=>els[x.replace(/[.#]/g,'')]=document.querySelector(x));
			
        changeActive = (element) => {
            element.classList.toggle("active");
        }
        changeUnactive = (element) => {
            element.classList.toggle("unactive");
        }
        changeActiveThis = (element) => {
            element.classList.toggle("activeThis");
        }
		
		/*//// EVENT LISTENERS ////*/
        
        myFunction();
        els.iconOpen.addEventListener("click", DisplaySignIn);
        function DisplaySignIn() {
			if (els.iconOpen.classList.contains("unclickable")==false){
				els.signIn.classList.toggle("activeClass");
				els.iconOpen.classList.add("unclickable");
			}
        }

        els.iconCreate.addEventListener("click", DisplayChooseGA)
        function DisplayChooseGA() {
			if ( els.iconCreate.classList.contains("unclickable")==false){
				els.chooseGA.classList.toggle("activeClass2");
				els.iconCreate.classList.add("unclickable");
			}
		}

        document.getElementById("createGA").addEventListener("click", DisplayCreateGA)
        function DisplayCreateGA() {
            document.getElementById("chooseGA").classList.toggle("activeClass2");
            document.getElementById("createAlgebra").classList.toggle("activeClass");
        }
		
		els.goBackStart.addEventListener("click", goBackStart);
		function goBackStart(){
			var elsClass = {};
			[".activeClass", ".activeClass2", ".unclickable", ".activeDiv", ".active", ".unactive"].forEach(x => elsClass[x.replace(/[.]/g, '')] = document.querySelectorAll(x));
			for(var i=0; i<elsClass.activeClass.length; i++)
				elsClass.activeClass[i].classList.remove("activeClass");
								
			for(var i=0; i<elsClass.activeClass2.length; i++)
				elsClass.activeClass2[i].classList.remove("activeClass2");
			
			for(var i=0; i<elsClass.unclickable.length; i++)
				elsClass.unclickable[i].classList.remove("unclickable");
				
			for(var i=0; i<elsClass.activeDiv.length; i++)
				elsClass.activeDiv[i].classList.remove("activeDiv");
				
			for(var i=0; i<elsClass.active.length; i++)
				elsClass.active[i].classList.remove("active");
				
			for(var i=0; i<elsClass.unactive.length; i++)
				elsClass.unactive[i].classList.remove("unactive");
		}

        /*document.getElementById("iconExample").addEventListener("click",DisplayExample)
        function DisplayExample(){
            window.open("index.html");
        }*/
		
    </script>
</body>

</html>